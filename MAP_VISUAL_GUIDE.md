# Marker Clustering & Sizing - Visual Guide

## ğŸ¯ Marker Size Comparison

### Before (Old System)
```
All markers same size: âš« (10px) or âš« (14px when selected)
No clustering
```

### After (New System)

#### Unselected Markers
```
Minor:      âš« (8px)   - Small community contributions
Moderate:   âš« (10px)  - Standard verified sites
Major:      âš« (12px)  - Significant historical sites
Critical:   âš« (14px)  - World Heritage level
```

#### Selected Markers
```
Minor:      âš« (14px)  - Emphasized
Moderate:   âš« (14px)  - Emphasized
Major:      âš« (16px)  - Large and prominent
Critical:   âš« (18px)  - Maximum prominence
```

## ğŸ¨ Cluster Badge Visualization

### Small Cluster (2-10 sites)
```
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚    5    â”‚  â† 40px, Orange/Primary
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Medium Cluster (11-50 sites)
```
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚    23     â”‚  â† 50px, Yellow/Accent
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Large Cluster (51+ sites)
```
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚     127     â”‚  â† 60px, Red/Destructive
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ—ºï¸ Map View Examples

### World View (Zoomed Out)
```
                      ğŸŒ World Map
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚                                          â”‚
     â”‚    â­• 15         â­• 23                   â”‚
     â”‚  Egypt        Peru                      â”‚
     â”‚                              â­• 8        â”‚
     â”‚                            UK           â”‚
     â”‚         â­• 34                           â”‚
     â”‚       Americas                          â”‚
     â”‚                                          â”‚
     â”‚    â­• 12                                â”‚
     â”‚  Africa                                 â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
*Clusters automatically group nearby markers*

### Regional View (Medium Zoom)
```
              ğŸ—ºï¸ Mediterranean Region
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚                                          â”‚
     â”‚     â­• 5        âš« âš«                    â”‚
     â”‚   Egypt       Greece                    â”‚
     â”‚                                          â”‚
     â”‚  âš« âš« âš«                                â”‚
     â”‚  Turkey                                  â”‚
     â”‚                    âš«                    â”‚
     â”‚                 Italy                    â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
*Mix of clusters and individual markers*

### Site View (Zoomed In)
```
           ğŸ“ Giza Plateau (High Zoom)
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚                                          â”‚
     â”‚              âš«âš«âš«                      â”‚
     â”‚              Critical                    â”‚
     â”‚            (Great Pyramid)               â”‚
     â”‚                                          â”‚
     â”‚         âš«âš«                             â”‚
     â”‚         Major                            â”‚
     â”‚       (Sphinx)                           â”‚
     â”‚                                          â”‚
     â”‚     âš«         âš«      âš«                â”‚
     â”‚   Moderate  Moderate  Minor              â”‚
     â”‚                                          â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
*All markers visible with size hierarchy*

## ğŸ¯ Importance Level Examples

### Critical Importance â­â­â­â­
**Sites that define civilizations or represent unique achievements**
- Great Pyramid of Giza
- Machu Picchu
- Stonehenge
- Angkor Wat
- Teotihuacan

**Characteristics:**
- Largest markers (14px â†’ 18px)
- Maximum visual prominence
- Often World Heritage Sites
- Extensive research projects
- High media count

### Major Importance â­â­â­
**Significant sites with substantial historical/archaeological value**
- Great Sphinx of Giza
- Sacsayhuaman
- Luxor Temple
- Palenque
- ChichÃ©n ItzÃ¡

**Characteristics:**
- Large markers (12px â†’ 16px)
- Strong visual presence
- Important research subjects
- Multiple research projects
- Verified contributions

### Moderate Importance â­â­
**Well-documented sites with historical significance**
- Regional temples
- Secondary pyramids
- Major tombs
- Archaeological zones
- City ruins

**Characteristics:**
- Medium markers (10px â†’ 14px)
- Standard visual presence
- Active research
- Community contributions
- Growing documentation

### Minor Importance â­
**Local sites or recently discovered locations**
- Small shrines
- Local monuments
- Community findings
- Preliminary sites
- Under investigation

**Characteristics:**
- Small markers (8px â†’ 14px when selected)
- Subtle presence when unselected
- Emerging research
- Community driven
- Building documentation

## ğŸ“Š Tooltip Display

### Critical Site Tooltip
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Great Pyramid of Giza        â”‚
â”‚ Ancient Egyptian             â”‚
â”‚ pyramid                      â”‚
â”‚ â­ CRITICAL significance     â”‚
â”‚ ğŸ“ Giza Plateau              â”‚
â”‚ Egypt                        â”‚
â”‚ OFFICIAL DATASET             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Minor Site Tooltip
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Local Temple Ruins           â”‚
â”‚ Ancient Egyptian             â”‚
â”‚ temple                       â”‚
â”‚ â­ MINOR significance        â”‚
â”‚ ğŸ“ Upper Egypt               â”‚
â”‚ Egypt                        â”‚
â”‚ COMMUNITY BRONZE TIER        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ Clustering Behavior

### Zoom Level 3 (World View)
```
Sites within 80px radius â†’ Cluster
Result: ~10-20 clusters worldwide
```

### Zoom Level 6 (Continental)
```
Sites within 80px radius â†’ Cluster
Result: ~30-50 clusters per continent
```

### Zoom Level 10 (Regional)
```
Sites within 80px radius â†’ Cluster
Result: Mix of clusters and individual markers
```

### Zoom Level 15+ (Site Level)
```
No clustering - all individual markers
Sites "spiderfy" if still overlapping
```

## ğŸ¨ Color Coding

### By Layer & Status
```
Official Sites:
âœ“ Verified:     ğŸŸ¢ Green
â³ Under Review: ğŸŸ¡ Orange
âŒ Unverified:   ğŸ”´ Red

Community Sites:
ğŸ¥‰ Bronze:       ğŸŸ  Orange
ğŸ¥ˆ Silver:       âšª Gray
ğŸ¥‡ Gold:         ğŸŸ¡ Yellow
â­ Promoted:     ğŸŸ¢ Green
```

### By Cluster Size
```
Small (2-10):    ğŸŸ  Orange (Primary)
Medium (11-50):  ğŸŸ¡ Yellow (Accent)
Large (51+):     ğŸ”´ Red (Destructive)
```

## ğŸ¯ Use Cases

### Researcher Exploring New Region
1. Zooms to continent â†’ Sees 5-10 clusters
2. Identifies dense areas â†’ Clicks largest cluster
3. Zooms in â†’ Sees major sites stand out (larger)
4. Hovers critical site â†’ Sees importance level
5. Clicks â†’ Opens full details

### User Looking for Specific Site
1. Uses search or filters
2. Map auto-zooms to site
3. Critical sites immediately visible (largest)
4. Surrounding context shown with smaller markers
5. Easy to identify target vs surroundings

### Casual Explorer
1. Pans around world map
2. Notices cluster density patterns
3. Clicks interesting cluster â†’ Discovers sites
4. Large markers draw attention to famous sites
5. Small markers show depth of catalog

## ğŸ“± Mobile Considerations

### Touch Targets
```
Minimum touch target: 44x44px
Cluster badges: 40-60px (easily tappable)
Critical markers: 18px + padding (adequate)
Spiderfy: Spreads markers for easier tapping
```

### Performance
```
Clustering: Reduces DOM nodes significantly
Visibility culling: Only renders visible markers
Smooth animations: Hardware accelerated
No lag: Even with 1000+ sites
```

## ğŸ“ Best Practices

### Assigning Importance Levels

**Critical:**
- UNESCO World Heritage Sites
- Define civilization milestones
- Unique in the world
- Extensive research base
- High visitor interest

**Major:**
- Regional significance
- Well-documented
- Active research
- Strong evidence
- Notable features

**Moderate:**
- Verified sites
- Standard documentation
- Growing research
- Local significance
- Clear context

**Minor:**
- Initial documentation
- Community findings
- Under investigation
- Supplementary sites
- Local interest

### Clustering Configuration

**Dense Urban Areas:**
```typescript
maxClusterRadius: 60  // Tighter clustering
```

**Rural/Spread Sites:**
```typescript
maxClusterRadius: 100  // Looser clustering
```

**High Detail Needed:**
```typescript
disableClusteringAtZoom: 12  // Uncluster earlier
```

## âœ¨ Visual Hierarchy Summary

```
Zoom Out:  Clusters (density pattern) 
    â†“
Zoom In:   Critical sites emerge (largest)
    â†“
Close Up:  All sites visible (sized by importance)
    â†“
Selected:  Emphasized (larger + highlighted)
```

This creates a natural discovery flow where important sites are always prominent while maintaining a clean, uncluttered interface!

